Pa_StopStream(stream);
Pa_AbortStream(stream);
Pa_Terminate();

PaError err = Pa_Initialize();
if (err != paNoError) {
    gDebug() << "Ошибка инициализации PortAudio:" << Pa_GetErrorText(err);
    return;
}

PaDeviceIndex inputDevice = Pa_GetDefaultInputDevice();
if (inputDevice == paNoDevice) {
    gDebug() << "Микрофон не найден.";
    return;
}

gDebug() << "Есть" << inputDevice + 1 << "устройства";

// Здесь можно дополнительно запустить нужный поток, если требуется:
// err = Pa_StartStream(stream);

pj_status_t status = pjsua_set_snd_dev(PJMEDIA_AUD_DEFAULT_CAPTURE_DEV,
                                       PJMEDIA_AUD_DEFAULT_PLAYBACK_DEV);
if (status != PJ_SUCCESS) {
    gDebug() << "Ошибка установки устройств pjsua:" << status;
    return;
}
